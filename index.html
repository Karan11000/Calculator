<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Calculator</title>
    <link rel="stylesheet" href="index.css">
    <script src="index.js"></script>
</head>
<body>
    <div class="calculator">
        <input type="text" id = "dis" placeholder="0">
        <table id = "tab">
            <tr>
                <td><button class = "btn">ex</button></td>
                <td><button class = "btn">lnx</button></td>
                <td><button class = "btn">x^1/3</button></td>
                <td><button class = "btn" id = "C">C</button></td>
            </tr>
         <tr>
             <td><button class = "btn">sin</button></td>
             <td><button class = "btn">cos</button></td>
             <td><button class = "btn">tan</button></td>
             <td><button class = "btn"><</button></td>
         </tr>
         
         <tr>
             <td><button class = "btn">x^3</button></td>
             <td><button class = "btn">x^2</button></td>
             <td><button class = "btn">x^1/2</button></td>
             <td><button class = "btn">/</button></td>
         </tr>
         <tr>
             <td><button class = "btn">1</button></td>
             <td><button class = "btn">2</button></td>
             <td><button class = "btn">3</button></td>
             <td><button class = "btn">+</button></td>
         </tr>
         <tr>
             <td><button class = "btn">4</button></td>
             <td><button class = "btn">5</button></td>
             <td><button class = "btn">6</button></td>
             <td><button class = "btn">-</button></td>
         </tr>
         <tr>
             <td><button class = "btn">7</button></td>
             <td><button class = "btn">8</button></td>
             <td><button class = "btn">9</button></td>
             <td><button class = "btn">*</button></td>
         </tr>
         <tr>
             <td><button class = "btn">%</button></td>
             <td><button class = "btn">0</button></td>
             <td><button class = "btn">.</button></td>
             <td><button class = "btn" id = "E">=</button></td>
         </tr>
        </table>
    </div>
    <script>
         let dis = document.getElementById('dis');
        let button = document.getElementsByClassName('btn');
        let buttontext = '';
        let screenvalue = '';
        for(element of button){
            element.addEventListener('click', function f(element){
                buttontext = element.target.innerText;
                // dis.value = buttontext;
                console.log(buttontext);
                if(buttontext=='C'){
                screenvalue = '';
                dis.value = screenvalue;
                }
                else if(buttontext == '='){
                    dis.value = eval(screenvalue);
                    screenvalue = dis.value
                }else if(buttontext== 'sin'){
                    dis.value = Math.sin(screenvalue);
                    // console.log(dis.value);
                    screenvalue = dis.value;
                }
                else if(buttontext== 'cos'){
                    dis.value = Math.cos(screenvalue);
                    // console.log(dis.value);
                    screenvalue = dis.value;
                }
                else if(buttontext== 'tan'){
                    dis.value = Math.tan(screenvalue);
                    // console.log(dis.value);
                    screenvalue = dis.value;
                }
                else if(buttontext== 'x^2'){
                    dis.value = Math.pow(screenvalue,2);
                    // console.log(dis.value);
                    screenvalue = dis.value;
                }
                else if(buttontext== 'x^3'){
                    dis.value = Math.pow(screenvalue,3);
                    // console.log(dis.value);
                    screenvalue = dis.value;
                }
                else if(buttontext== 'x^1/2'){
                    dis.value = Math.pow(screenvalue,1/2);
                    // console.log(dis.value);
                    screenvalue = dis.value;
                }
                else if(buttontext== 'x^1/3'){
                    dis.value = Math.pow(screenvalue,1/3);
                    // console.log(dis.value);
                    screenvalue = dis.value;
                }
                else if(buttontext== 'lnx'){
                    dis.value = Math.log(screenvalue);
                    // console.log(dis.value);
                    screenvalue = dis.value;
                }
                else if(buttontext== 'ex'){
                    dis.value = Math.exp(screenvalue);
                    // console.log(dis.value);
                    screenvalue = dis.value;
                }
                else if(buttontext== '<'){
                    // dis.value = Math.exp(screenvalue);
                    // // console.log(dis.value);
                    // screenvalue = dis.value;
                    
                    let d = screenvalue.slice(0, screenvalue.length-1);
                    screenvalue = d;
                    dis.value = screenvalue;
                }
                
                else{
                    screenvalue += buttontext;
                    dis.value = screenvalue; 
                }
            })
        }
    </script>
</body>
</html>